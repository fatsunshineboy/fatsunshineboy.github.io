<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>sunBlog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/sun.png">
    <meta name="description" content="fatsunshineboy的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.7d435de5.css" as="style"><link rel="preload" href="/assets/js/app.46d628d8.js" as="script"><link rel="preload" href="/assets/js/2.4235874d.js" as="script"><link rel="preload" href="/assets/js/9.8ca8fac0.js" as="script"><link rel="prefetch" href="/assets/js/10.6377da25.js"><link rel="prefetch" href="/assets/js/11.a0a22313.js"><link rel="prefetch" href="/assets/js/12.cd860c88.js"><link rel="prefetch" href="/assets/js/13.afa8002f.js"><link rel="prefetch" href="/assets/js/14.3eb3249c.js"><link rel="prefetch" href="/assets/js/15.88392877.js"><link rel="prefetch" href="/assets/js/16.7367e93a.js"><link rel="prefetch" href="/assets/js/17.aff858ac.js"><link rel="prefetch" href="/assets/js/18.2a2b0f8c.js"><link rel="prefetch" href="/assets/js/19.3558c091.js"><link rel="prefetch" href="/assets/js/20.d20c1dba.js"><link rel="prefetch" href="/assets/js/21.eba0d842.js"><link rel="prefetch" href="/assets/js/22.e1426e7d.js"><link rel="prefetch" href="/assets/js/23.1756d630.js"><link rel="prefetch" href="/assets/js/24.d03b535f.js"><link rel="prefetch" href="/assets/js/25.5527cb4c.js"><link rel="prefetch" href="/assets/js/26.007ce217.js"><link rel="prefetch" href="/assets/js/27.88eb23d9.js"><link rel="prefetch" href="/assets/js/3.ef3c351e.js"><link rel="prefetch" href="/assets/js/4.96c171a9.js"><link rel="prefetch" href="/assets/js/5.8c255889.js"><link rel="prefetch" href="/assets/js/6.c9fd5809.js"><link rel="prefetch" href="/assets/js/7.a503a413.js"><link rel="prefetch" href="/assets/js/8.84db7bb8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7d435de5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/sun.png" alt="sunBlog" class="logo"> <span class="site-name can-hide">sunBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/front_learn/JavaScript_Learn.html" class="nav-link">
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/front/front_project/Snake.html" class="nav-link">
  项目
</a></li></ul></div></div><div class="nav-item"><a href="/back/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/record/" class="nav-link">
  杂记
</a></div> <a href="https://github.com/fatsunshineboy/fatsunshineboy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/front_learn/JavaScript_Learn.html" class="nav-link">
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/front/front_project/Snake.html" class="nav-link">
  项目
</a></li></ul></div></div><div class="nav-item"><a href="/back/" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/record/" class="nav-link">
  杂记
</a></div> <a href="https://github.com/fatsunshineboy/fatsunshineboy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端学习</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/front_learn/Css_learn.html" class="sidebar-link">CSS学习笔记</a></li><li><a href="/front/front_learn/Less_Learn.html" class="sidebar-link">Less学习笔记</a></li><li><a href="/front/front_learn/Scss_Learn.html" class="sidebar-link">Scss学习笔记</a></li><li><a href="/front/front_learn/JavaScript_Learn.html" class="sidebar-link">JavaScript学习笔记</a></li><li><a href="/front/front_learn/JavScript_Attention.html" class="sidebar-link">JavaScript注意事项</a></li><li><a href="/front/front_learn/AJAX_Learn.html" class="sidebar-link">AJAX学习笔记</a></li><li><a href="/front/front_learn/axios.html" class="sidebar-link">axios学习笔记</a></li><li><a href="/front/front_learn/Gulp_Learn.html" aria-current="page" class="active sidebar-link">Gulp学习笔记</a></li><li><a href="/front/front_learn/TypeScript.html" class="sidebar-link">TypeScript学习经验</a></li><li><a href="/front/front_learn/Vue_Attention.html" class="sidebar-link">Vue注意事项</a></li><li><a href="/front/front_learn/Vuepress_Learn_exprice.html" class="sidebar-link">Vuepress学习经验</a></li><li><a href="/front/front_learn/DingTalk_Learn.html" class="sidebar-link">钉钉开发学习经验</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端项目</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="http://xxpromise.gitee.io/webpack5-docs" target="_blank" rel="noopener noreferrer">Webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="什么是流"><a href="#什么是流" class="header-anchor">#</a> 什么是流</h2> <p>流文件：流</p> <blockquote><p>一种文件传输的格式
一段一段的文件传输</p></blockquote> <p>流格式：流</p> <blockquote><p>从头到尾的一个过程
需要从源开始步步经过加工
每一个步骤需要依赖上一步的结果
最终给出一个完整的成品</p></blockquote> <p>gulp 是基于流格式的一种打包构建工具</p> <p>gulp 的依赖环境</p> <blockquote><p>依赖于 node 环境进行开发
底层封装的内容就是 node 里面的读写文件</p></blockquote> <h2 id="gulp-的作用"><a href="#gulp-的作用" class="header-anchor">#</a> gulp 的作用</h2> <p>对于 css 文件</p> <blockquote><p>压缩
转码(自动添加前缀)</p></blockquote> <p>对于 js 文件</p> <blockquote><p>压缩
转码(ES6 转 ES5)</p></blockquote> <p>对于 html 文件</p> <blockquote><p>压缩
转码(对格式的转换)</p></blockquote> <p>对于静态资源文件的处理</p> <p>对于第三方文件的处理</p> <h2 id="gulpfile-js"><a href="#gulpfile-js" class="header-anchor">#</a> gulpfile.js</h2> <p>gulp 进行打包的依据,每一个项目需要一个 gulpfile.js，在这个文件里面进行本项目的打包配置，gulp 再运行的时候，会自动读取 gulpfile.js 文件里面的配置，按照 gulpfile.js 文件里面的配置进行打包工作</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>直接写在项目根目录，和 src 同级</p></div> <h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <h3 id="gulp-task"><a href="#gulp-task" class="header-anchor">#</a> gulp.task()</h3> <blockquote><p>语法：gulp.task(任务名称，任务处理函数)</p> <p>作用：创建一个基于流的任务</p> <p>例子：</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">'htmlHandler'</span>，<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//找到html源文件，进行压缩，打包，放入指定目录</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></blockquote> <h3 id="gulp-src"><a href="#gulp-src" class="header-anchor">#</a> gulp.src()</h3> <blockquote><p>语法：gulp.src(路径信息)</p> <p>作用：找到源文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 找到指定一个文件</span>
gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./a/b.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 找到指定目录下，指定后缀的文件</span>
gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;。/a/*.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 找到指令目录下的所有文件</span>
gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./a/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 找到a目录下所有子目录里面的所有文件</span>
gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./a/**/*!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./a/**/*.htm1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></blockquote> <h3 id="gulp-dest"><a href="#gulp-dest" class="header-anchor">#</a> gulp.dest()</h3> <blockquote><p>语法：gulp.dest(路径信息)</p> <p>作用：把一个内容放入指定目录内</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></blockquote> <h3 id="gulp-watch"><a href="#gulp-watch" class="header-anchor">#</a> gulp.watch()</h3> <blockquote><p>语法：gulp.watch(路径信息，任务名称)</p> <p>作用：监控指定目录下的文件，一旦发生变化，重新执行后面的任务</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 当指定目录下的htm1文件发生变化，就会执行htmlHandler这个任务</span>
gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">'./src/pages/*.htm1'</span>，htmlHandler<span class="token punctuation">)</span>
</code></pre></div></blockquote> <h3 id="gulp-series"><a href="#gulp-series" class="header-anchor">#</a> gulp.series()</h3> <blockquote><p>语法：gulp.series(任务 1，任务 2，任务 3，..)</p> <p>作用：逐个执行多个任务，前一个任务结束，第二个任务开始</p></blockquote> <h3 id="gulp-parallel"><a href="#gulp-parallel" class="header-anchor">#</a> gulp.parallel()</h3> <blockquote><p>语法：gulp.parallel(任务 1，任务 2，任务 3，…)</p> <p>作用：并行开始多个任务</p></blockquote> <h3 id="pipe"><a href="#pipe" class="header-anchor">#</a> pipe()</h3> <blockquote><p>管道函数</p> <p>所有的 gulpAPI 都是基于流</p> <p>接收当前流，进入下一个流过程的管道函数</p> <div class="language-js extra-class"><pre class="language-js"><code>gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>压缩任务<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>转码<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></blockquote> <h2 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h2> <h3 id="_1-gulp-cssmin"><a href="#_1-gulp-cssmin" class="header-anchor">#</a> 1.gulp-cssmin</h3> <p>下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i gulp-cssmin -D
</code></pre></div><p>导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> cssmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-cssmin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入以后得到一个处理流文件的函数,直接再管道函数里面执行就好了</p> <h3 id="_2-gulp-autoprefixer"><a href="#_2-gulp-autoprefixer" class="header-anchor">#</a> 2.gulp-autoprefixer</h3> <p>下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i gulp-autoprefixer-D
</code></pre></div><p>导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> autoprefixer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-autoprefixer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入以后得到一个处理流文件的函数,直接再管道函数里面使用，需要传递参数</p> <p><code>{browers:[要兼容的浏览器格式]}</code></p> <p>可以现在 package.json 文件进行浏览器的配置</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;broswerslist&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;last 2 version&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_3-gulp-sass"><a href="#_3-gulp-sass" class="header-anchor">#</a> 3.gulp-sass</h3> <p>需要下载第三方库 sass</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> sass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-sass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;sass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-gulp-uglify"><a href="#_4-gulp-uglify" class="header-anchor">#</a> 4.gulp-uglify</h3> <p>压缩 Js 文件
下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>npmi-D gulp-uglify
</code></pre></div><p>导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-uglify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入以后得到一个可以处理流文件的函数,直接再管道函数中使用就可以了</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>你不能写 ES6 语法，一旦有了 ES6 语法就会报错</p></div> <h3 id="_5-gulp-babel"><a href="#_5-gulp-babel" class="header-anchor">#</a> 5.gulp-babel</h3> <p>专门进行 ES6 转 ES5 的插件</p> <p>gulp-babel 的版本</p> <p>gulp-babe107：大部分使用再 gulp@3 里面-&gt;gulp-babe1@8：大部分使用再 gulp@4 里面</p> <p>下载：</p> <blockquote><p>gulp-babe1 需要依赖另外两个包，要一起下载</p> <p>另外两个包：@babe1/core@babel/preset-env</p></blockquote> <p>导入：
只要导入一个包就够了，他会自动导入另外两个包</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-babel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入以后得到一个可以处理流文件的函数，直接再管道函数内部使用，需要传递参数</p> <h3 id="_6-gulp-htmlmin"><a href="#_6-gulp-htmlmin" class="header-anchor">#</a> 6.gulp-htmlmin</h3> <p>下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D gulp-htmlmin
</code></pre></div><p>导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> htmlmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-htmlmin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入以后得到一个可以处理流文件的函数，直接再管道函数里面调用，需要传递参数</p> <h3 id="_7-del"><a href="#_7-del" class="header-anchor">#</a> 7.del</h3> <p>下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D del
</code></pre></div><p>作用：删除文件目录</p> <p>导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;del&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>导入以后得到一个函数，直接使用传递参数就可以了</p> <h3 id="_8-gulp-webserver"><a href="#_8-gulp-webserver" class="header-anchor">#</a> 8.gulp-webserver</h3> <p>作用：启动一个基于 node 书写的服务器</p> <p>下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D gulp-webserver
</code></pre></div><p>导入：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> webserver <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-webserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_9-gulp-file-include"><a href="#_9-gulp-file-include" class="header-anchor">#</a> 9.gulp-file-include</h3> <p>作用：再一个 html 页面里面导入一个 html 片段</p> <p>下载：</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i -D gulp-file-include
</code></pre></div><p>导入</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> fileInclude <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-file-include&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="执行一个-gulp-配置好的任务"><a href="#执行一个-gulp-配置好的任务" class="header-anchor">#</a> 执行一个 gulp 配置好的任务</h3> <p>直接打开命令行，切换到<code>gulpfile.js</code>所在的目录,执行指令<code>$gulp</code>任务名称</p> <h2 id="图片问题"><a href="#图片问题" class="header-anchor">#</a> 图片问题</h2> <p>在开发环境中，图片是不需要我们压缩的，直接使用线上地址，图片是 UI 处理好给我们的 gulp-imagemin，专门用来压缩图片(无损压缩)，下载需要很好的网络环境，压缩程度最高是 7 级，1024K 变成 1023|</p> <h2 id="默认任务为什么一定要叫做-default"><a href="#默认任务为什么一定要叫做-default" class="header-anchor">#</a> 默认任务为什么一定要叫做 default</h2> <p>因为你使用 <code>gulp</code> 指令的时候,是<code>$gulp &lt;任务名称&gt;</code></p> <p>当你有一个叫做 <code>default</code> 的任务的时候,直接执行指令<code>$gulp</code>，他会自动去指定 <code>gulpfile.js</code> 文件中的 <code>default</code> 任务</p> <h2 id="gulp-3-0"><a href="#gulp-3-0" class="header-anchor">#</a> gulp@3.0</h2> <p><img src="/assets/img/gulp3.c099e5bc.png" alt="gulp3"></p> <h2 id="gulp-4-0"><a href="#gulp-4-0" class="header-anchor">#</a> gulp@4.0</h2> <p><img src="/assets/img/gulp4.3f84997d.png" alt="gulp3"></p> <h2 id="实例代码"><a href="#实例代码" class="header-anchor">#</a> 实例代码</h2> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 0. 导入第三方</span>
<span class="token comment">// 0-1. 导入gulp</span>
<span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-2. 导入gulp-cssmin</span>
<span class="token keyword">const</span> cssmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-cssmin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-3. 导入gulp-autoprefixer</span>
<span class="token keyword">const</span> autoprefixer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-autoprefixer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-4. 导入gulp-sass</span>
<span class="token comment">// const sass = require('gulp-sass');ndeo-sass已经弃用</span>
<span class="token keyword">const</span> sass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-sass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;sass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-5. 导入gulp-uglify</span>
<span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-uglify&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-6. 导入gulp-babel</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-babel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-7. 导入gulp-htmlmin</span>
<span class="token keyword">const</span> htmlmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-htmlmin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-8. 导入del</span>
<span class="token keyword">const</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;del&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-9. 导入gulp-webserver</span>
<span class="token keyword">const</span> webserver <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-webserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 0-10. 导入gulp-file-include</span>
<span class="token keyword">const</span> fileInclude <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-file-include&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 1. 创建任务</span>
<span class="token comment">// 1-1. 创建一个打包css的任务(gulp@3.0)</span>
<span class="token comment">// gulp.task('cssHandeler', function () {</span>
<span class="token comment">//     // 需要捕获到该任务的结束，需要把这个流return出去</span>
<span class="token comment">//     // task会处理流</span>
<span class="token comment">//     return gulp</span>
<span class="token comment">//         .src('./src/css/*.css')</span>
<span class="token comment">//         .pipe(autoprefixer({ browsers: ['last 2 version'] }))</span>
<span class="token comment">//         .pipe(cssmin())</span>
<span class="token comment">//         .pipe(gulp.dest('./dist/css/'))</span>
<span class="token comment">// })</span>

<span class="token comment">// 1-1. 创建一个打包css的任务(gulp@4.0)</span>
<span class="token keyword">const</span> <span class="token function-variable function">cssHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 需要捕获到该任务的结束，需要把这个流return出去</span>
  <span class="token comment">// task会处理流</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    gulp
      <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/css/*.css&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 1. 找到源文件路径</span>
      <span class="token comment">//.pipe(autoprefixer({ browsers: ['last 2 version'] }))   // 最近两个版本</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 在package.json文件中已经设置好了这边可以省略</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3. 压缩</span>
      <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/css/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4. 指定输出路径</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 1-2. 创建一个打包sass文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">sassHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/sass/*.scss&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">sass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssmin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3. 压缩</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/sass/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4. 指定输出路径</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 1-3. 创建一个打包js文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">jsHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/js/*.js&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">babel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// babel@7 ,presets:['es2015]</span>
        <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/js/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-4. 创建一个打包html文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">htmlHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/pages/*.html&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">fileInclude</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// 根据你的配置导入对应的html片段</span>
        <span class="token literal-property property">prefix</span><span class="token operator">:</span> <span class="token string">&quot;@-@&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 定义的标识符</span>
        <span class="token literal-property property">basepath</span><span class="token operator">:</span> <span class="token string">&quot;./src/components&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 基准目录，组件的位置</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">htmlmin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// 通过配置的参数进行压缩</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 表示移除空格</span>
        <span class="token literal-property property">removeEmptyAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 表示移除空的属性(仅限于原生属性)</span>
        <span class="token literal-property property">collapseBooleanAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 移除类似checked的布尔值属性</span>
        <span class="token literal-property property">removeAttributeQuotes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 移除属性上的双引号</span>
        <span class="token literal-property property">minifyCSS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 压缩内嵌式css(只能基本压缩，不能添加前缀)</span>
        <span class="token literal-property property">minifyJS</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 压缩内嵌式js(只能基本压缩，不能转码)</span>
        <span class="token literal-property property">removeStyleLinkTypeAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 移除style和link标签的上type属性</span>
        <span class="token literal-property property">removeScriptTypeAttributes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 移除script标签的上type属性</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/pages/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-5. 创建一个打包image文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">imageHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/images/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/iamges/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-6. 创建一个打包videos文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">videoHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/vidoes/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/videos/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-7. 创建一个打包图片文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">audioHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/audios/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/audios/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-8. 创建一个打包第三方库文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">libHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/lib/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/lib/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-9. 创建一个打包fonts文件的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">fontHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./src/fonts/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/fonts/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-10. 创建一个删除dist目录的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">delHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./dist/&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-11. 创建一个启动服务器的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">webHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./dist/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
    <span class="token function">webserver</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&quot;8080&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">livereload</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token string">&quot;./pages/index.html&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">proxies</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 配置所有代理</span>
        <span class="token comment">// 每一个代理就是一个对象数据类型</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// 代理标识符</span>
          <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">&quot;/bd&quot;</span><span class="token punctuation">,</span>
          <span class="token comment">// 代理目标地址</span>
          <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//1-12. 创建一个监控的任务</span>
<span class="token keyword">const</span> <span class="token function-variable function">watchHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&quot;./src/sass/*.scss&quot;</span><span class="token punctuation">,</span> sassHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&quot;./src/css/*.css&quot;</span><span class="token punctuation">,</span> cssHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&quot;./src/js/*.js&quot;</span><span class="token punctuation">,</span> jsHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&quot;./src/pages/*.html&quot;</span><span class="token punctuation">,</span> htmlHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//2. 导出这个任务</span>
<span class="token comment">//2-1. 导出打包css的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>cssHandler <span class="token operator">=</span> cssHandler<span class="token punctuation">;</span>
<span class="token comment">//2-2. 导出打包sass的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>sassHandler <span class="token operator">=</span> sassHandler<span class="token punctuation">;</span>
<span class="token comment">//2-3. 导出打包js的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>jsHandler <span class="token operator">=</span> jsHandler<span class="token punctuation">;</span>
<span class="token comment">//2-4. 导出打包html的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>htmlHandler <span class="token operator">=</span> htmlHandler<span class="token punctuation">;</span>
<span class="token comment">//2-5. 导出打包iamge的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>imageHandler <span class="token operator">=</span> imageHandler<span class="token punctuation">;</span>
<span class="token comment">//2-6. 导出打包videp的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>videoHandler <span class="token operator">=</span> videoHandler<span class="token punctuation">;</span>
<span class="token comment">//2-7. 导出打包audio的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>audioHandler <span class="token operator">=</span> audioHandler<span class="token punctuation">;</span>
<span class="token comment">//2-8. 导出打包lib的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>libHandler <span class="token operator">=</span> libHandler<span class="token punctuation">;</span>
<span class="token comment">//2-9. 导出打包fonts的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>fontHandler <span class="token operator">=</span> fontHandler<span class="token punctuation">;</span>
<span class="token comment">//2-10. 导出删除dist目录的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>delHandler <span class="token operator">=</span> delHandler<span class="token punctuation">;</span>
<span class="token comment">//2-11. 导出服务器的任务</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>webHandler <span class="token operator">=</span> webHandler<span class="token punctuation">;</span>

<span class="token comment">// 3.  配置默认任务</span>
<span class="token comment">//  gulp.series() 或者 gulp.parallel()</span>
<span class="token comment">//  前者执行有先后顺序，后者没有</span>
<span class="token comment">//  两个方法的返回值就是一个函数，返回值可以直接被当作任务函数使用</span>
<span class="token comment">//  使用task的方式创建一个default任务</span>

<span class="token comment">// 方式一：</span>
<span class="token comment">// gulp.task('default', () &gt;  {});</span>

<span class="token comment">// const res = gulp.parallel(cssHandler, sassHandler, jsHandler);</span>
<span class="token comment">// module.exports.default = res;</span>

<span class="token comment">// 方式二:</span>
<span class="token comment">// module.exports.default = gulp.parallel(cssHandler, sassHandler, jsHandler, htmlHandler,</span>
<span class="token comment">//     imageHandler, videoHandler, audioHandler, libHandler, fontHandler);</span>

<span class="token comment">//添加删除dist任务，再执行后面任务</span>
<span class="token comment">// module.exports.default = gulp.series(</span>
<span class="token comment">//     delHandler,</span>
<span class="token comment">//     gulp.parallel(cssHandler, sassHandler, jsHandler, htmlHandler,</span>
<span class="token comment">//         imageHandler, videoHandler, audioHandler, libHandler, fontHandler)</span>
<span class="token comment">// )</span>

<span class="token comment">// 添加完服务器后</span>
module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>default <span class="token operator">=</span> gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span>
  delHandler<span class="token punctuation">,</span>
  gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span>
    cssHandler<span class="token punctuation">,</span>
    sassHandler<span class="token punctuation">,</span>
    jsHandler<span class="token punctuation">,</span>
    htmlHandler<span class="token punctuation">,</span>
    imageHandler<span class="token punctuation">,</span>
    videoHandler<span class="token punctuation">,</span>
    audioHandler<span class="token punctuation">,</span>
    libHandler<span class="token punctuation">,</span>
    fontHandler
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  webHandler<span class="token punctuation">,</span>
  watchHandler
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/fatsunshineboy/fatsunshineboy.github.io/edit/main/docs/front/front_learn/Gulp_Learn.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/12/2022, 1:27:57 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/front/front_learn/axios.html" class="prev">
        axios学习笔记
      </a></span> <span class="next"><a href="/front/front_learn/TypeScript.html">
        TypeScript学习经验
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><section class="side-anchor"><ul style="display:none;"></ul></section></div></div>
    <script src="/assets/js/app.46d628d8.js" defer></script><script src="/assets/js/2.4235874d.js" defer></script><script src="/assets/js/9.8ca8fac0.js" defer></script>
  </body>
</html>
