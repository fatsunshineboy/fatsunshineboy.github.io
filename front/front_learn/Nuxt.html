<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nuxt学习笔记 | sunBlog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/sun.png">
    <meta name="description" content="Nuxt.js 是一个基于Vue.js的通用应用框架，预设了利用Vue.js开发服务端渲染的应用所需要的各种配置。可以将html在服务端渲染，合成完整的html文件再输出到浏览器。">
    
    <link rel="preload" href="/assets/css/0.styles.8fc29a17.css" as="style"><link rel="preload" href="/assets/js/app.e401ac38.js" as="script"><link rel="preload" href="/assets/js/2.d2c14998.js" as="script"><link rel="preload" href="/assets/js/7.cc921ffd.js" as="script"><link rel="prefetch" href="/assets/js/10.33fbe10a.js"><link rel="prefetch" href="/assets/js/11.4e8abeff.js"><link rel="prefetch" href="/assets/js/12.1be5efaa.js"><link rel="prefetch" href="/assets/js/13.267915e5.js"><link rel="prefetch" href="/assets/js/14.51240391.js"><link rel="prefetch" href="/assets/js/15.911e63e1.js"><link rel="prefetch" href="/assets/js/16.c891e198.js"><link rel="prefetch" href="/assets/js/17.6b166d2e.js"><link rel="prefetch" href="/assets/js/18.5df18872.js"><link rel="prefetch" href="/assets/js/19.9c58ef6b.js"><link rel="prefetch" href="/assets/js/20.b69808b7.js"><link rel="prefetch" href="/assets/js/21.86a7d34e.js"><link rel="prefetch" href="/assets/js/22.b7298ab9.js"><link rel="prefetch" href="/assets/js/23.a5f921f1.js"><link rel="prefetch" href="/assets/js/24.70d24f2e.js"><link rel="prefetch" href="/assets/js/25.64a6549e.js"><link rel="prefetch" href="/assets/js/26.c1918217.js"><link rel="prefetch" href="/assets/js/27.89c49370.js"><link rel="prefetch" href="/assets/js/28.36d9903c.js"><link rel="prefetch" href="/assets/js/29.0907fefb.js"><link rel="prefetch" href="/assets/js/3.005bd3af.js"><link rel="prefetch" href="/assets/js/30.9c9f6273.js"><link rel="prefetch" href="/assets/js/31.8257ad3c.js"><link rel="prefetch" href="/assets/js/32.91d1291d.js"><link rel="prefetch" href="/assets/js/33.0c27517e.js"><link rel="prefetch" href="/assets/js/34.f67c2078.js"><link rel="prefetch" href="/assets/js/35.02fe8093.js"><link rel="prefetch" href="/assets/js/36.e0b1d16c.js"><link rel="prefetch" href="/assets/js/4.a68ff159.js"><link rel="prefetch" href="/assets/js/5.42e8b644.js"><link rel="prefetch" href="/assets/js/6.e416b78d.js"><link rel="prefetch" href="/assets/js/8.683bc7a3.js"><link rel="prefetch" href="/assets/js/9.f5342317.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8fc29a17.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/sun.png" alt="sunBlog" class="logo"> <span class="site-name can-hide">sunBlog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/front_learn/JavaScript_Learn.html" class="nav-link">
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/front/front_project/Snake.html" class="nav-link">
  项目
</a></li></ul></div></div><div class="nav-item"><a href="/back/java.html" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/leetcode.html" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/record/" class="nav-link">
  杂记
</a></div> <a href="https://github.com/fatsunshineboy/fatsunshineboy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><span class="title">前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端" class="mobile-dropdown-title"><span class="title">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/front/front_learn/JavaScript_Learn.html" class="nav-link">
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/front/front_project/Snake.html" class="nav-link">
  项目
</a></li></ul></div></div><div class="nav-item"><a href="/back/java.html" class="nav-link">
  后端
</a></div><div class="nav-item"><a href="/algorithm/leetcode.html" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/record/" class="nav-link">
  杂记
</a></div> <a href="https://github.com/fatsunshineboy/fatsunshineboy.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端学习</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/front/front_learn/Css_learn.html" class="sidebar-link">CSS学习笔记</a></li><li><a href="/front/front_learn/Less_Learn.html" class="sidebar-link">Less学习笔记</a></li><li><a href="/front/front_learn/Scss_Learn.html" class="sidebar-link">Scss学习笔记</a></li><li><a href="/front/front_learn/JavaScript_Learn.html" class="sidebar-link">JavaScript学习笔记</a></li><li><a href="/front/front_learn/JavScript_Attention.html" class="sidebar-link">JavaScript注意事项</a></li><li><a href="/front/front_learn/AJAX_Learn.html" class="sidebar-link">AJAX学习笔记</a></li><li><a href="/front/front_learn/axios.html" class="sidebar-link">axios学习笔记</a></li><li><a href="/front/front_learn/Gulp_Learn.html" class="sidebar-link">Gulp学习笔记</a></li><li><a href="/front/front_learn/TypeScript.html" class="sidebar-link">TypeScript学习经验</a></li><li><a href="/front/front_learn/Vue_Attention.html" class="sidebar-link">Vue注意事项</a></li><li><a href="/front/front_learn/Vuepress_Learn_exprice.html" class="sidebar-link">Vuepress学习经验</a></li><li><a href="/front/front_learn/Nuxt.html" aria-current="page" class="active sidebar-link">Nuxt学习笔记</a></li><li><a href="/front/front_learn/DingTalk_Learn.html" class="sidebar-link">钉钉开发学习经验</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端项目</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基础知识"><a href="#基础知识" class="header-anchor">#</a> 基础知识</h2> <p>(文章链接)[https://zhuanlan.zhihu.com/p/346674458]</p> <h3 id="csr"><a href="#csr" class="header-anchor">#</a> CSR</h3> <p>CSR是Client Side Render简称；页面上的内容是我们加载的js文件渲染出来的，js文件运行在浏览器上面，服务端只返回一个html模板。</p> <p><img src="/assets/img/CSR.24057e0c.jpg" width="800px"></p> <h3 id="ssr"><a href="#ssr" class="header-anchor">#</a> SSR</h3> <p>SSR是Server Side Render简称；页面上的内容是通过服务端渲染生成的，浏览器直接显示服务端返回的html就可以了。</p> <p><img src="/assets/img/SSR.35f42ce4.jpg" width="800px"></p> <h3 id="spa的问题"><a href="#spa的问题" class="header-anchor">#</a> SPA的问题</h3> <p>SPA 应用的客户端渲染方式，最大的问题有两个方面：</p> <ol><li>白屏时间过长，用户体验不好；</li> <li>HTML 中无内容，SEO 不友好；</li></ol> <h3 id="解决方法"><a href="#解决方法" class="header-anchor">#</a> 解决方法</h3> <p><img src="/assets/img/Vue_SSR.fdf96f30.jpg" alt="alt"></p> <p>没错，这就是我们所说的服务端渲染的基本逻辑，服务端渲染也就是 SSR （Server Side Rendering）；</p> <p>白屏时间过长的问题得以解决，因为首次加载时，服务器会先将渲染好的静态页面返回，在静态页面中再次加载请求 SPA 脚本；</p> <p>基本原理：首页内容及数据，在用户请求之前生成为静态页面，同时加入 SPA 的脚本代码引入，在浏览器渲染完成静态页面后，请求 SPA 脚本应用，之后的页面交互依然是客户端渲染；</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>路由集成后虽然能够根据路径渲染指定的页面组件,但是服务器渲染也存在局限性.</p> <p>比如你在页面组件模板上加一个v-click事件,结果会发现页面在浏览器上渲染完毕后事件无法响应,这样肯定会违背我们的初衷.</p> <p>怎么解决这样的棘手的问题呢?我们还是要回到服务器端渲染的本质上来,它做的主要的事情就是返回一个填充满页面内容html给客户端,至于后面怎么样它就不管了.</p> <p>事件绑定,点击链接跳转这些都是浏览器赋予的能力.因此可以借助客户端渲染来帮助我们走出困境.</p> <p>整个流程可以设计如下.</p> <ul><li>浏览器输入链接请求服务器,服务器端将包含页面内容的html返回,但是在html文件下要加上客户端渲染的js脚本.</li> <li>html开始在浏览器上加载,页面上已经呈现出静态内容了.当线程走到html文件下的script标签,开始请求客户端渲染的脚本并执行.</li> <li>此时客户端脚本里面的vue实例开始接管了整个应用,它开始赋予原本后端返回的静态html各种能力,比如让标签上的事件绑定开始生效.</li></ul> <p>这样就将客户端渲染和ssr联合了起来.ssr只负责返回静态的html文件内容,目的是为了让页面快点展现出来.而客户端的vue实例在静态页面渲染后开始接管整个应用,赋予页面各种各样的能力,这种协作的方式就称为<code>同构</code>.</p></div> <h2 id="路由"><a href="#路由" class="header-anchor">#</a> 路由</h2> <h3 id="动态路由"><a href="#动态路由" class="header-anchor">#</a> 动态路由</h3> <p>在 Nuxt.js 里面定义带参数的动态路由，需要创建对应的以下划线作为前缀的 Vue 文件 或 目录。</p> <p>以下目录结构：</p> <div class="language-md extra-class"><pre class="language-md"><code>pages/
--| _slug/
-----| comments.vue
-----| index.vue
--| users/
-----| _id.vue
--| index.vue
</code></pre></div><p>Nuxt.js 生成对应的路由配置表为：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token literal-property property">router</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">routes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'pages/index.vue'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'users-id'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/users/:id?'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'pages/users/_id.vue'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'slug'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:slug'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'pages/_slug/index.vue'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'slug-comments'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:slug/comments'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">component</span><span class="token operator">:</span> <span class="token string">'pages/_slug/comments.vue'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>你会发现名称为 <code>users-id</code> 的路由路径带有 <code>:id?</code> 参数，表示该路由是可选的。如果你想将它设置为必选的路由，需要在 <code>users/_id</code> 目录内创建一个 <code>index.vue</code> 文件。</p> <h3 id="嵌套路由"><a href="#嵌套路由" class="header-anchor">#</a> 嵌套路由</h3> <p>在父组件(.vue文件) 内增加 <code>&lt;nuxt-child/&gt;</code> 用于显示子视图内容。</p> <h3 id="未知嵌套深度的动态嵌套路由"><a href="#未知嵌套深度的动态嵌套路由" class="header-anchor">#</a> 未知嵌套深度的动态嵌套路由</h3> <p>如果您不知道 URL 结构的深度，您可以使用_.vue动态匹配嵌套路径。这将处理与更具体请求不匹配的情况。</p> <p>文件结构:</p> <div class="language-md extra-class"><pre class="language-md"><code>pages/
--| people/
-----| <span class="token italic"><span class="token punctuation">_</span><span class="token content">id.vue
-----| index.vue
--| </span><span class="token punctuation">_</span></span>.vue
--| index.vue
</code></pre></div><p>将处理这样的请求：</p> <table><thead><tr><th>Path</th> <th>File</th></tr></thead> <tbody><tr><td><code>/</code></td> <td><code>index.vue</code></td></tr> <tr><td><code>/people</code></td> <td><code>people/index.vue</code></td></tr> <tr><td><code>/people/123</code></td> <td><code>people/_id.vue</code></td></tr> <tr><td><code>/about</code></td> <td><code>_.vue</code></td></tr> <tr><td><code>/about/careers</code></td> <td><code>_.vue</code></td></tr> <tr><td><code>/about/careers/chicago</code></td> <td><code>_.vue</code></td></tr></tbody></table> <p>Note: 处理 404 页面，现在符合_.vue页面的逻辑。</p> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <h3 id="head"><a href="#head" class="header-anchor">#</a> head</h3> <ol><li>Nuxt.config.js 文件中配置</li> <li>单文件中 <code>head()</code> 配置</li></ol> <h2 id="视图"><a href="#视图" class="header-anchor">#</a> 视图</h2> <h3 id="模板"><a href="#模板" class="header-anchor">#</a> 模板</h3> <p>模板
你可以定制化 Nuxt.js 默认的应用模板。</p> <p>定制化默认的 html 模板，只需要在 src 文件夹下（默认是应用根目录）创建一个 app.html 的文件。</p> <p>默认模板为：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">{{</span> <span class="token attr-name">HTML_ATTRS</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name">{{</span> <span class="token attr-name">HEAD_ATTRS</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span>
    {{ HEAD }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">{{</span> <span class="token attr-name">BODY_ATTRS</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span>
    {{ APP }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>举个例子，你可以修改模板添加 IE 的条件表达式：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--[if IE 9]&gt;&lt;html lang=&quot;en-US&quot; class=&quot;lt-ie9 ie9&quot; {{ HTML_ATTRS }}&gt;&lt;![endif]--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!--[if</span> <span class="token attr-name">(gt</span> <span class="token attr-name">IE</span> <span class="token attr-name">9)|!(IE)]</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!--</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">{{</span> <span class="token attr-name">HTML_ATTRS</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--&lt;![endif]--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span> <span class="token attr-name">{{</span> <span class="token attr-name">HEAD_ATTRS</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span>
    {{ HEAD }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">{{</span> <span class="token attr-name">BODY_ATTRS</span> <span class="token attr-name">}}</span><span class="token punctuation">&gt;</span></span>
    {{ APP }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="api"><a href="#api" class="header-anchor">#</a> API</h2> <h3 id="特殊配置项"><a href="#特殊配置项" class="header-anchor">#</a> 特殊配置项</h3> <p>Nuxt.js 为页面提供的特殊配置项：</p> <table><thead><tr><th>属性名</th> <th>描述</th></tr></thead> <tbody><tr><td>asyncData</td> <td>最重要的一个键, 支持 <a href="https://www.nuxtjs.cn/guide/async-data" target="_blank" rel="noopener noreferrer">异步数据处理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，另外该方法的第一个参数为当前页面组件的 <a href="https://www.nuxtjs.cn/api#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1" target="_blank" rel="noopener noreferrer">上下文对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr> <tr><td>fetch</td> <td>与 <code>asyncData</code> 方法类似，用于在渲染页面之前获取数据填充应用的状态树（store）。不同的是 <code>fetch</code> 方法不会设置组件的数据。详情请参考 <a href="https://www.nuxtjs.cn/api/pages-fetch" target="_blank" rel="noopener noreferrer">关于 fetch 方法的文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr> <tr><td>head</td> <td>配置当前页面的 Meta 标签, 详情参考 <a href="https://www.nuxtjs.cn/api/pages-head" target="_blank" rel="noopener noreferrer">页面头部配置 API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr> <tr><td>layout</td> <td>指定当前页面使用的布局（<code>layouts</code> 根目录下的布局文件）。详情请参考 <a href="https://www.nuxtjs.cn/api/pages-layout" target="_blank" rel="noopener noreferrer">关于 布局 的文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr> <tr><td>loading</td> <td>如果设置为<code>false</code>，则阻止页面自动调用<code>this.$nuxt.$loading.finish()</code>和<code>this.$nuxt.$loading.start()</code>,您可以手动控制它,请看<a href="https://nuxtjs.org/examples/custom-page-loading" target="_blank" rel="noopener noreferrer">例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,仅适用于在 nuxt.config.js 中设置<code>loading</code>的情况下。请参考<a href="https://www.nuxtjs.cn/api/configuration-loading" target="_blank" rel="noopener noreferrer">API 配置 <code>loading</code> 文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr> <tr><td>transition</td> <td>指定页面切换的过渡动效, 详情请参考 <a href="https://www.nuxtjs.cn/api/pages-transition" target="_blank" rel="noopener noreferrer">页面过渡动效<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr> <tr><td>scrollToTop</td> <td>布尔值，默认: <code>false</code>。 用于判定渲染页面前是否需要将当前页面滚动至顶部。这个配置用于 <a href="https://www.nuxtjs.cn/guide/routing#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener noreferrer">嵌套路由<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的应用场景。</td></tr> <tr><td>validate</td> <td>校验方法用于校验 <a href="https://www.nuxtjs.cn/guide/routing#%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1" target="_blank" rel="noopener noreferrer">动态路由<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的参数。</td></tr> <tr><td>middleware</td> <td>指定页面的中间件，中间件会在页面渲染之前被调用， 请参考 <a href="https://www.nuxtjs.cn/guide/routing#%E4%B8%AD%E9%97%B4%E4%BB%B6" target="_blank" rel="noopener noreferrer">路由中间件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</td></tr></tbody></table> <h3 id="asyncdata"><a href="#asyncdata" class="header-anchor">#</a> asyncData</h3> <ol><li>pages 页面组件才可以去使用，components 中不可以使用</li> <li>asyncData 中没有this</li></ol> <h3 id="fetch"><a href="#fetch" class="header-anchor">#</a> fetch</h3> <p>fetch 方法用于在渲染页面前填充应用的状态树（store）数据， 与 asyncData 方法类似，不同的是它不会设置组件的数据。</p> <h3 id="head-2"><a href="#head-2" class="header-anchor">#</a> head</h3> <p>Nuxt.js 使用了 vue-meta 更新应用的 头部标签 Head 和 html 属性。</p> <p>类型： Object 或 Function
使用 head 方法设置当前页面的头部标签。</p> <p>在 head 方法里可通过 this 关键字来获取组件的数据，你可以利用页面组件的数据来设置个性化的 meta 标签。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Hello World!'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">hid</span><span class="token operator">:</span> <span class="token string">'description'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'description'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'My custom description'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>::wanring
为了避免子组件中的 meta 标签不能正确覆盖父组件中相同的标签而产生重复的现象，建议利用 hid 键为 meta 标签配一个唯一的标识编号。请阅读关于 vue-meta 的更多信息。
:::</p> <h2 id="插件"><a href="#插件" class="header-anchor">#</a> 插件</h2> <h3 id="同时注入"><a href="#同时注入" class="header-anchor">#</a> 同时注入</h3> <p>如果您需要同时在context，Vue实例，甚至Vuex中同时注入，您可以使用inject方法,它是 plugin 导出函数的第二个参数。将内容注入 Vue 实例的方式与在 Vue 应用程序中进行注入类似。系统会自动将$添加到方法名的前面。</p> <p>plugins/combined-inject.js:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> app <span class="token punctuation">}</span><span class="token punctuation">,</span> inject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'myInjectedFunction'</span><span class="token punctuation">,</span> <span class="token parameter">string</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'That was easy!'</span><span class="token punctuation">,</span> string<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>nuxt.config.js:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'~/plugins/combined-inject.js'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>现在您就可以在context，或者Vue实例中的this，或者Vuex的actions/mutations方法中的this来调用myInjectedFunction方法。</p> <p>ctx-example-component.vue:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$myInjectedFunction</span><span class="token punctuation">(</span><span class="token string">'works in mounted'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">asyncData</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span>app<span class="token punctuation">.</span><span class="token function">$myInjectedFunction</span><span class="token punctuation">(</span><span class="token string">'works with context'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>store<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token operator">:</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">state</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">someValue</span><span class="token operator">:</span> <span class="token string">''</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">changeSomeValue</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> newValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$myInjectedFunction</span><span class="token punctuation">(</span><span class="token string">'accessible in mutations'</span><span class="token punctuation">)</span>
    state<span class="token punctuation">.</span>someValue <span class="token operator">=</span> newValue
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">setSomeValueToWhatever</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> commit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$myInjectedFunction</span><span class="token punctuation">(</span><span class="token string">'accessible in actions'</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> newValue <span class="token operator">=</span> <span class="token string">'whatever'</span>
    <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'changeSomeValue'</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Vue 实例（客户端）, context（服务器端）, store(Vuex)</p></div> <p>不支持 ssr 的系统，插件只在浏览器里使用，这种情况下下，你可以用 ssr: false ，使得插件只会在客户端运行。</p> <h3 id="传统命名插件"><a href="#传统命名插件" class="header-anchor">#</a> 传统命名插件</h3> <p>如果假设插件仅在 客户端 或 服务器端 运行，则 .client.js 或 .server.js可以作为插件文件的扩展名应用，该文件将自动包含在相应客户端或者服务端上。</p> <p>例子:</p> <div class="language-js extra-class"><pre class="language-js"><code>nuxt<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js<span class="token operator">:</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'~/plugins/foo.client.js'</span><span class="token punctuation">,</span> <span class="token comment">// only in client side</span>
    <span class="token string">'~/plugins/bar.server.js'</span><span class="token punctuation">,</span> <span class="token comment">// only in server side</span>
    <span class="token string">'~/plugins/baz.js'</span> <span class="token comment">// both client &amp; server</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="注意事项"><a href="#注意事项" class="header-anchor">#</a> 注意事项</h2> <ol><li><p>您可以通过检测process.server这个变量来控制插件中的某些脚本库只在服务端使用。当值为 true 表示是当前执行环境为服务器中。此外，可以通过检查process.static是否为true来判断应用是否通过nuxt generator生成。您也可以组合process.server和process.static这两个选项，确定当前状态为服务器端渲染且使用nuxt generate命令运行。</p></li> <li><p>由于Nuxt.js 2.4，模式已被引入作为插件的选项来指定插件类型，可能的值是：client 或 server, ssr:false 在下一个主要版本中弃用,将过渡为 mode: 'client'。</p></li> <li><p>从 Nuxt 2.0 开始，~/alias将无法在CSS 文件中正确解析。你必须在 url CSS 引用中使用~assets（没有斜杠）或@别名，即background:url(&quot;~assets/banner.svg&quot;)</p></li> <li><p>$nuxt 是一个专注于改善用户用户体验的帮手。</p></li></ol> <p><code>isOffline</code>
类型: Boolean
描述: true 当用户互联网连接变为离线时</p> <p><code>isOnline</code>
类型: Boolean
描述: isOffline相反
例子:</p> <p>layouts/default.vue:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$nuxt.isOffline<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>You are offline<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nuxt</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/fatsunshineboy/fatsunshineboy.github.io/edit/main/docs/front/front_learn/Nuxt.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/3/2022, 2:59:22 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/front/front_learn/Vuepress_Learn_exprice.html" class="prev">
        Vuepress学习经验
      </a></span> <span class="next"><a href="/front/front_learn/DingTalk_Learn.html">
        钉钉开发学习经验
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><section class="side-anchor"><ul style="display:none;"></ul></section></div></div>
    <script src="/assets/js/app.e401ac38.js" defer></script><script src="/assets/js/2.d2c14998.js" defer></script><script src="/assets/js/7.cc921ffd.js" defer></script>
  </body>
</html>
